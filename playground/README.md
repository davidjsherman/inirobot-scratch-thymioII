# Generate an Enki playground from an Inkscape SVG

This is a quick and dirty program to convert an SVG image into an Enki playground for Thymio IIs. The size of the image and the positions of the robots is hardwired. The program only handles some kinds of <path> elements, specifically those encountered in SVG files generated by Inkscape. Only paths from a layer named _“Walls”_ in the SVG file are converted to walls in the playground. Diagonal walls use the _angle_ attribute of playground file _wall_ elements, added in commit [5bf4584](https://github.com/davidjsherman/aseba/commit/5bf45848ea7ef09decb5b3712637baa69d246ad8) of  [davidjsherman/aseba](https://github.com/davidjsherman/aseba).

The file [`aseba-playground-template.svg`](aseba-playground-template.svg) is a simple template for building playgrounds.

## Building a playground
1. Edit the SVG file. Put walls in the _Walls_ layer. Put the robots in the _Robots_ layer. Draw the ground texture in any other layers.
1. Save the image as an _Inkscape SVG file_, `scenario.svg`.
1. Save a copy of the image as a _PNG_ file, `scenario.png`. Flip the image vertically, for example with ImageMagick use `mogrify -flip scenario.png`.
1. If you want doors, write the XML fragment and save it as `scenario.door.xml`.
1. Run `perl svg-to-playground.perl scenario`.

Check the PNG file `scenario.check.png` to make sure that the walls are draw where you expect them. Check the log file `scenario.log` in case of trouble.

## Using the playground

Load the resulting `scenario.playground` file into _asebaplayground_. The accompanying `scenario.png` ground texture must be in the same directory. Thymio II robots will be added wherever specified in the _Robots_ layer., They will be listening on ports numbered starting sequentially from 33333. You can run several _Aseba Studio_ instances, or combine the robots with an _asebaswitch_ and run one Studio for them all.
